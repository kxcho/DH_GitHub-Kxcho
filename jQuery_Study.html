
<!DOCTYPE html>
<html>
<meta charset="utf-8">
/*<style>li {padding:10px; list-style: none}</style>*/
<body>

<h2>jQuery 객체</h2>

<h4>jQuery - jQuery는 DOM을 내부에 감추고 보다 쉽게 웹페이지를 조작할 수 있도록 돕는 도구</h4>
<h4>jQuery - $(함수)('li')(엘리먼트,선택자).css('color', 'red')(메소드);</h4>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<!-- <script>https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js</script> -->
<script>
$( document ).ready(function( $ ) {
  $('body').prepend('<h1>Hello world  Cho</h1>');
});
</script>

<style>
  #demo{width:200px;float: left; margin-top:120px;}
  #execute{float: left; margin:0; font-size:0.9em;}
  #execute{padding-left: 5px}
  #execute li{list-style: none}
  #execute pre{border:1px solid gray; padding:10px;}
</style>

<ul id="demo">
  <li class="active">HTML</li>
  <li id="active">CSS</li>
  <li class="active">JavaScript</li>
</ul>

<ul id="execute">
  <li>
    <pre>
      var lis = document.getElementsByTagName('li');
      for(var i=0; i&lt;lis.length; i++){
        lis[i].style.color='red';
      }
    </pre>

    <pre>
      $('li').css('color', 'red')
    </pre>

    <input type="button" value="execute" onclick="$('li').css('color', 'red')" />
  </li>
  <li>
    <pre>
      var lis = document.getElementsByClassName('active');
      for(var i=0; i &lt; lis.length; i++){
        lis[i].style.color='red';
      }
    </pre>
    <pre>
      $('.active').css('color', 'red')
    </pre>
    <input type="button" value="execute" onclick="$('.active').css('color', 'red')" />
  </li>
  <li>
    <pre>
      var li = document.getElementById('active');
      li.style.color='red';
      li.style.textDecoration='underline';
    </pre>
    <pre>
      $('$active').css('color', 'red').css('textDecoration', 'underline');
    </pre>
    <input type="button" value="execute" onclick="$('#active').css('color', 'red').css('textDecoration', 'underline')" />
  </li>
</ul>

<br><br><br><br><br><br>
<br><br><br><br><br><br>
<br><br><br><br><br><br>
<br><br><br><br><br><br>
<br><br><br><br><br><br>
<br><br><br><br><br><br>

<h4>HTMLElement - document.getElementById의 리턴 데이터 타입-실행결과가 하나인 경우 HTMLLIELement</h4>
<h4>HTMLCollection - document.getElementsByTagName의 리턴 데이터 타입-복수인 경우 HTMLCollection</h4>

<h4>DOM Tree- MarkUp Language 제어(HTML,XML,SVG,XUL)</h3>
<h4>Object >  Node >  Element > HTMLElement > HTMLLIElement</h4>

<pre>
  var lis = document.getElementsByTagName('li');
  $(lis).css('color', 'green').css('text-decoration', 'underline');
</pre>

<h4>jQuery 조회</h4>
<ul>
    <li>html</li>
    <li>css</li>
    <li>JavaScript</li>
</ul>

<script>
    console.log($('li').length);
    console.log($('li')[0]);
    console.log(" start : " + $('li')[0]);
    var li = $('li');
    for(var i=0; i<li.length; i++){
        console.log(li[i]);
    }
</script>

<h4>jQuery map 조회</h4><ul>
    <li>html</li>
    <li>css</li>
    <li>JavaScript</li>
</ul>

<script>
    var li = $('li');
    li.map(function(index, elem){
        console.log(index, elem);
        $(elem).css('color', 'red');
    })
</script>

<h4>jQuery 객체 API - https://api.jquery.com</h4>

<h4>jQuery 객체 API - 속성제어</h4>
<a id="target" href="http://opentutorials.org">opentutorials</a>

<script>
var t = $('#target');
console.log(t.attr('href')); //http://opentutorials.org
t.attr('title', 'opentutorials.org'); // title 속성의 값을 설정한다.
t.removeAttr('title'); // title 속성을 제거한다.

console.log(t.attr('title', 'opentutorials.org')); // title 속성의 값을 설정한다.
console.log(t.removeAttr('title')); // title 속성을 제거한다.
</script>

<h4>jQuery 객체 API - attribute와 property</h4>
<a id="t1" href="./demo.html">opentutorials</a>
<input id="t2" type="checkbox" checked="checked" />
<script>
// 현재 문서의 URL이 아래와 같다고 했을 때
// http://localhost/jQuery_attribute_api/demo2.html
var t1 = $('#t1');
console.log(t1.attr('href')); // ./demo.html
console.log(t1.prop('href')); // http://localhost/jQuery_attribute_api/demo.html

var t2 = $('#t2');
console.log(t2.attr('checked')); // checked
console.log(t2.prop('checked')); // true
</script>

<div id="t11">opentutorials</div>
<div id="t12">opentutorials</div>
<script>
$('#t11').prop('className', 'important');
$('#t12').prop('class', 'current');
</script>

<h4>jQuery 객체 API - 조회 범위 제한 .find()</h4>
<h4> - find를 쓰는 이유는 체인을 끊지 않고 작업의 대상을 변경하고 싶을 때 사용한다.</h4>
<ul>
    <li class="marked1">html</li>
    <li>css</li>
    <li id="active6">JavaScript
        <ul>
            <li>JavaScript Core</li>
            <li class="marked1">DOM</li>
            <li class="marked1">BOM</li>
        </ul>
    </li>
</ul>
<script>
    // $( ".marked1", "#active6").css( "background-color", "red" );
    // $( "#active6 .marked1").css( "background-color", "red" );
    // $( "#active6").find('.marked1').css( "background-color", "red" );
    $('#active6').css('color','blue').find('.marked1').css( "background-color", "red" );

</script>


<h4>jQuery Node API</h4>

<pre>
  replaceAll과 replaceWith는 모두 노드의 내용을 교체하는 API이다. replaceWith가 제어 대상을 먼저 지정하는 것에 반해서 replaceAll은 제어 대상을 인자로 전달한다.
</pre>

<div class="target">
    content1
</div>

<div class="target">
    content2
</div>
<div class="target11" id="target21">
    target 21
</div>

<div class="target11" id="target22">
    target 22
</div>
<div id="source">
    source
</div>

<input type="button" value="remove target 1" id="btn1" />
<input type="button" value="empty target 2" id="btn2" />
<input type="button" value="replaceAll target 1" id="btn11" />
<input type="button" value="replaceWith target 2" id="btn12" />
<input type="button" value="clone replaceAll target 1" id="btn21" />
<input type="button" value="clone replaceWith target 2" id="btn22" />
<input type="button" value="append source to target 21" id="btn31" />

<script>
    $('.target').before('<div>before</div>');
    $('.target').after('<div>after</div>');
    $('.target').prepend('<div>prepend</div>');
    $('.target').append('<div>append</div>');

    $('#btn1').click(function(){
      $('#target21').remove();
    })
    $('#btn2').click(function(){
      $('#target22').empty();
    })
    $('#btn11').click(function(){
       $('<div>replaceAll</div>').replaceAll('#target21');
     })
     $('#btn12').click(function(){
       $('#target22').replaceWith('<div>replaceWith</div>');
     })
     $('#btn21').click(function(){
       $('#source').clone().replaceAll('#target21');
     })
     $('#btn22').click(function(){
       $('#target22').replaceWith($('#source').clone());
     })
     $('#btn31').click(function(){
      //  $('#target21').append($('#source'));
       $('#target21').prepend($('#source'));
     })
</script>

<h4>jQuery 문자열로 노드 제어 API</h4>

<pre>
  innerHTML는 문자열로 자식 노드를 만들 수 있는 기능을 제공한다. 또한 자식 노드의 값을 읽어올 수도 있다.
  outerHTML은 선택한 엘리먼트를 포함해서 처리된다.
  innerText, outerText - innerHtml, outerHTML과 다르게 이 API들은 값을 읽을 때는 HTML 코드를 제외한 문자열을 리턴하고, 값을 변경할 때는 HTML의 코드를 그대로 추가한다.
  insertAdjacentHTML() - 좀 더 정교하게 문자열을 이용해서 노드를 변경하고 싶을 때 사용한다.
</pre>

<ul id="innerHTML">
    <li>HTML</li>
    <li>CSS</li>
</ul>

<input type="button" onclick="get();" value="get" />
<input type="button" onclick="set();" value="set" />
<input type="button" onclick="get1();" value="get1" />
<input type="button" onclick="set1();" value="set1" />
<input type="button" onclick="get2();" value="get2" />
<input type="button" onclick="set2();" value="set2" />

<input type="button" onclick="beforebegin();" value="beforebegin" />
<input type="button" onclick="afterbegin();" value="afterbegin" />
<input type="button" onclick="beforeend();" value="beforeend" />
<input type="button" onclick="afterend();" value="afterend" />

<script>
    function get(){
        var target = document.getElementById('innerHTML');
        alert(target.innerHTML);
    }
    function set(){
        var target = document.getElementById('innerHTML');
        target.innerHTML = "<li>JavaScript Core</li><li>BOM</li><li>DOM</li>";
        alert(target.innerHTML);
    }
    function get1(){
        var target = document.getElementById('innerHTML');
        alert(target.outerHTML);
    }
    function set1(){
        var target = document.getElementById('innerHTML');
        target.outerHTML = "<ol><li>JavaScript Core</li><li>BOM</li><li>DOM</li></ol>";
    }
    function get2(){
        var target = document.getElementById('innerHTML');
        alert(target.innerText);
    }
    function set2(){
        var target = document.getElementById('innerHTML');
        target.innerText = "<li>JavaScript Core</li><li>BOM</li><li>DOM</li>";
    }

    function beforebegin(){
        var target = document.getElementById('innerHTML');
          target.insertAdjacentHTML('beforebegin','<h1>Client Side</h1>');
    }
    function afterbegin(){
        var target = document.getElementById('innerHTML');
        target.insertAdjacentHTML('afterbegin','<li>HTML5</li>');
    }
    function beforeend(){
        var target = document.getElementById('innerHTML');
        target.insertAdjacentHTML('beforeend','<li>JavaScript</li>');
    }
    function afterend(){
        var target = document.getElementById('innerHTML');
        target.insertAdjacentHTML('afterend','<h1>Server Side</h1>');
    }
</script>

<h4>jQuery 차이 </h4>

<input type="button" id="pure" value="pure" />
<input type="button" id="jquery" value="jQuery" />
<script>
    // 순수하게 구현했을 때
    var target = document.getElementById('pure');
    if(target.addEventListener){
        target.addEventListener('click', function(event){
            alert('pure');
        });
    } else {
        target.attachEvent('onclick', function(event){
            alert('pure');
        });
    }

    // jQuery를 사용했을 때
    $('#jquery').on('click', function(event){
        alert('jQuery');
    })
</script>

<h4>jQuery on API 사용법</h4>
<pre>
  on은 jQuery에서 가장 중요한 이벤트 API이다. on API를 통해서 jQuery에서 이벤트를 다루는 방법을 알아보자.

  on의 기본적인 문법은 아래와 같다.

  <b>1. .on( events [, selector ] [, data ], handler(eventObject) )</b>
  event : 등록하고자 하는 이벤트 타입을 지정한다. (예: "click")
  selector : 이벤트가 설치된 엘리먼트의 하위 엘리먼트를 이벤트 대상으로 필터링함
  data : 이벤트가 실행될 때 핸들러로 전달될 데이터를 설정함
  handler : 이벤트 핸들러 함수
</pre>

<ul>
    <li><a href="#">HTML</a></li>
    <li><a href="#">CSS</a></li>
    <li><a href="#">JavaScript</a></li>
</ul>
<script>
    $('ul').on('click','a, li', function(event){
        console.log(this.tagName);
    })
</script>

<b>하나의 엘리먼트에 여러개의 이벤트 타입을 동시에 등록하는 방법</b><br><br>
<input type="text" id="target91" />
<br><br>
<p id="status"></p>
<script>
    $('#target91').on('focus blur', function(e){
        $('#status').html(e.type);
    })
</script>

<br><br>
<b>이벤트에 따라서 다른 핸들러를 실행하고 싶다면 아래와 같이 코드를 변경 - 방법1</b><br><br>
<input type="text" id="target92" />
<p id="status92"></p>
<script>
    $('#target92').on({
        'focus' : function(e){
          $('#status92').html(e.type);
        },
        'blur' : function(e){
          $('#status92').html(e.type);
        }
    })
</script>

<b>이벤트에 따라서 다른 핸들러를 실행하고 싶다면 아래와 같이 코드를 변경 - 방법2</b><br><br>
<input type="text" id="target93" />
<p id="status93"></p>
<script>
    var handler = function(e){
      $('#status93').html(e.type);
    }
    $('#target93').on(
    {
      'focus' : handler,
      'blur' : handler
    })
</script>











<br><br><br><br><br><br>

</body>
</html>
